[
  {
    "projectId": "e97fa8f8-e9a9-44ec-8c69-a8861dc65db4",
    "testId": "01e87a8a-9afd-4191-9d77-5f8fc91ddd4f",
    "userId": "b478e478-3061-705e-cccd-a73255c8c7e0",
    "title": "TC001-add_new_asset_successfully",
    "description": "Test the /add_asset.php POST endpoint to verify that a new asset can be added successfully with valid asset_name, location, and category fields.",
    "code": "import requests\nimport uuid\n\nBASE_URL = \"http://localhost/IT-Inventory-Management-System\"\n\ndef test_add_new_asset_successfully():\n    url = f\"{BASE_URL}/add_asset.php\"\n    headers = {\n        \"Content-Type\": \"application/json\"\n    }\n    # Generate unique asset_name to avoid duplicates\n    unique_id = str(uuid.uuid4())\n    payload = {\n        \"asset_name\": f\"TestAsset_{unique_id}\",\n        \"location\": \"Head Office\",\n        \"category\": \"Laptop\"\n    }\n    timeout = 30\n\n    try:\n        response = requests.post(url, json=payload, headers=headers, timeout=timeout)\n        assert response.status_code == 200, f\"Expected status code 200 but got {response.status_code}\"\n        # The response description is 'Asset added successfully', assume body or text to contain confirmation\n        assert \"success\" in response.text.lower() or \"added\" in response.text.lower(), \"Response does not confirm asset addition\"\n    finally:\n        # Cleanup code can be added here if deletion endpoint is available\n        pass\n\ntest_add_new_asset_successfully()\n",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-01T10:01:26.838Z",
    "modified": "2026-01-01T10:01:59.622Z"
  },
  {
    "projectId": "e97fa8f8-e9a9-44ec-8c69-a8861dc65db4",
    "testId": "26b96fb5-cdd1-458b-8fc5-8afb1e1bfbf9",
    "userId": "b478e478-3061-705e-cccd-a73255c8c7e0",
    "title": "TC002-submit_approval_request_agl",
    "description": "Test the /request_approval_agl.php POST endpoint to ensure an approval request can be submitted for asset actions (ADD, SERVICE, DELETE) with valid action_type, requested_by, factory, and asset_name.",
    "code": "import requests\n\nBASE_URL = \"http://localhost/IT-Inventory-Management-System\"\nTIMEOUT = 30\nHEADERS = {\"Content-Type\": \"application/json\"}\n\ndef test_submit_approval_request_agl():\n    url = f\"{BASE_URL}/request_approval_agl.php\"\n    test_payloads = [\n        {\n            \"action_type\": \"ADD\",\n            \"requested_by\": \"test_user_add\",\n            \"factory\": \"AGL\",\n            \"asset_name\": \"TestAsset_Add_001\"\n        },\n        {\n            \"action_type\": \"SERVICE\",\n            \"requested_by\": \"test_user_service\",\n            \"factory\": \"AGL\",\n            \"asset_name\": \"TestAsset_Service_001\"\n        },\n        {\n            \"action_type\": \"DELETE\",\n            \"requested_by\": \"test_user_delete\",\n            \"factory\": \"AGL\",\n            \"asset_name\": \"TestAsset_Delete_001\"\n        }\n    ]\n\n    for payload in test_payloads:\n        try:\n            response = requests.post(url, json=payload, headers=HEADERS, timeout=TIMEOUT)\n            assert response.status_code == 200, f\"Expected status 200 but got {response.status_code}\"\n            # Response content could be JSON or plain text confirming request submission\n            # Validate no error keywords in response text\n            resp_text = response.text.lower()\n            assert \"error\" not in resp_text and \"exception\" not in resp_text and \"warning\" not in resp_text, \\\n                \"Response contains error indication\"\n        except requests.RequestException as e:\n            assert False, f\"Request failed: {e}\"\n\ntest_submit_approval_request_agl()",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-01T10:01:26.844Z",
    "modified": "2026-01-01T10:01:43.237Z"
  },
  {
    "projectId": "e97fa8f8-e9a9-44ec-8c69-a8861dc65db4",
    "testId": "37b808b7-7fb3-4d38-9e48-3447fb513912",
    "userId": "b478e478-3061-705e-cccd-a73255c8c7e0",
    "title": "TC003-process_approval_request",
    "description": "Test the /process_approval.php POST endpoint to verify that an approval request can be processed correctly by approving or rejecting it with valid approval_id, action, and approver.",
    "code": "import requests\n\nBASE_URL = \"http://localhost/IT-Inventory-Management-System/\"\nTIMEOUT = 30\nHEADERS = {\"Content-Type\": \"application/json\"}\n\ndef test_process_approval_request():\n    # Step 1: Submit an approval request\n    approval_request_payload = {\n        \"action_type\": \"ADD\",\n        \"requested_by\": \"test_user\",\n        \"factory\": \"AGL\",\n        \"asset_name\": \"Test Asset for Approval\"\n    }\n    approval_request_url = BASE_URL + \"request_approval_agl.php\"\n\n    resp_req = requests.post(approval_request_url, json=approval_request_payload, headers=HEADERS, timeout=TIMEOUT)\n    assert resp_req.status_code == 200, f\"Submit approval request failed with status {resp_req.status_code}\"\n\n    # Cannot continue to process approval since approval_id is not returned as per PRD\n\n\ntest_process_approval_request()\n",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-01T10:01:26.848Z",
    "modified": "2026-01-01T10:02:07.692Z"
  },
  {
    "projectId": "e97fa8f8-e9a9-44ec-8c69-a8861dc65db4",
    "testId": "72ec1118-0aa3-4cac-bf35-cd513e79cf0e",
    "userId": "b478e478-3061-705e-cccd-a73255c8c7e0",
    "title": "TC004-retrieve_all_assets_head_office",
    "description": "Test the /get_assets.php GET endpoint to confirm that it returns a list of all assets from the Head Office inventory with correct data format and status code 200.",
    "code": "import requests\n\ndef test_retrieve_all_assets_head_office():\n    base_url = \"http://localhost/IT-Inventory-Management-System\"\n    endpoint = \"/get_assets.php\"\n    url = base_url + endpoint\n    timeout = 30\n    headers = {\n        \"Accept\": \"application/json\"\n    }\n    try:\n        response = requests.get(url, headers=headers, timeout=timeout)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        assert False, f\"Request failed: {e}\"\n\n    # Validate status code\n    assert response.status_code == 200, f\"Expected status code 200, got {response.status_code}\"\n\n    # Validate response content type\n    content_type = response.headers.get(\"Content-Type\", \"\")\n    assert \"application/json\" in content_type, f\"Expected 'application/json' content type, got {content_type}\"\n\n    # Validate response body structure\n    try:\n        assets = response.json()\n    except ValueError as e:\n        assert False, f\"Response is not valid JSON: {e}\"\n\n    # Validate it is a list (array)\n    assert isinstance(assets, list), f\"Expected list of assets, got {type(assets)}\"\n\n    # Each asset should be a dict/object\n    for asset in assets:\n        assert isinstance(asset, dict), f\"Expected asset to be a dict, got {type(asset)}\"\n\n    # Additional validation can be done here on asset fields if schema known, \n    # but as per PRD, only checking format and status code\n    \ntest_retrieve_all_assets_head_office()",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-01T10:01:26.853Z",
    "modified": "2026-01-01T10:01:45.509Z"
  }
]
